<div class="card-container">
    <div class="card-container-body d-flex flex-row flex-wrap flex-shrink-0 flex-grow-1 align-items-center">
        <!-- Loading -->
        <mat-spinner *ngIf="this.guild?.loading" [diameter]="64" class="me-1"></mat-spinner>
        <span class="mat-h1 fw-bold mb-0 waiting-for-text" *ngIf="this.guild?.loading" style="width: 300px;"></span>
        <!-- Content -->
        <app-guild-icon [guild]="guild.content" [width]="'64px'" [height]="'64px'" [darkBorder]="true" class="me-2"></app-guild-icon>
        <span class="mat-h1 fw-bold mb-0" *ngIf="this.guild?.content && !this.guild?.loading">
            {{ this.guild.content?.name }}
        </span>
        <!-- Not loaded -->
        <span *ngIf="!this.guild?.loading && !this.guild?.content">Failed to load guild info.</span>
    </div>
</div>

<mat-spinner *ngIf="TESTING || loading && !loadingAfter"></mat-spinner>

<button mat-button *ngIf="TESTING || page > 1 && !loading" (click)="loadMoreUsersBefore()" class="load-more-btn">
  <mat-icon>keyboard_arrow_up</mat-icon>
  Load More
  <mat-icon>keyboard_arrow_up</mat-icon>
</button>

<app-leaderboard-item *ngFor="let userLevel of loadedUsers; let j = index" [order]="order" [userLevel]="userLevel" [index]="(page - 1) * DEFAULT_PAGE_SIZE + j"></app-leaderboard-item>

<button mat-button *ngIf="TESTING || canLoadMoreUsersAfter && !loading" (click)="loadMoreUsersAfter()" class="load-more-btn">
  <mat-icon>keyboard_arrow_down</mat-icon>
  Load More
  <mat-icon>keyboard_arrow_down</mat-icon>
</button>

<mat-spinner *ngIf="TESTING || loading && loadingAfter"></mat-spinner>
